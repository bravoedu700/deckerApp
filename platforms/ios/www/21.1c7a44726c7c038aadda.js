(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{uCpf:function(e,o,t){"use strict";t.r(o),t.d(o,"MatenimientoPagePageModule",(function(){return h}));var n=t("ofXK"),i=t("TEn/"),a=t("tyNb"),s=t("mrSG"),r=t("fXoL"),c=t("3Pt+"),l=t("N2bL"),b=t("4dRw"),m=t("m/P+");function d(e,o){if(1&e&&(r.Nb(0,"ion-select-option",18),r.oc(1),r.Mb()),2&e){var t=o.$implicit;r.dc("value",t.company_name),r.xb(1),r.pc(t.company_name+" ("+t.company_address+")")}}var p=[{path:"",component:function(){function e(e,o,t,n,i,a,s,r){this.navCtrl=e,this.formBuilder=o,this.prodsProvider=t,this.loadingCtrl=n,this.alertController=i,this.modalCtrl=a,this.agenciasProvider=s,this.iab=r,this.completed=!1,this.nrowhat="5492915077611",this.options={location:"no",hidden:"no",zoom:"yes",hideurlbar:"yes",toolbar:"no",hidenavigationbuttons:"yes"}}return e.prototype.ngOnInit=function(){var e=this;this.presentLoading(),this.getTelefono(),this.datospersonales=this.getLocalStorage(),this.agenciasProvider.getAgencias().subscribe((function(o){e.agencias=o})),this.todo=this.formBuilder.group({nombre:[this.datospersonales.nombre],localidad:[this.datospersonales.localidad],email:[this.datospersonales.email],telefono:[""],mensaje:[""],agencia:[this.datospersonales.agencia],vehiculo:[this.datospersonales.vehiculo],tipo_contacto:["mantenimineto"],chasis:[""],piezas:[""],fecha_asistencia:[""],tipo_mantenimiento:[""]})},e.prototype.getTelefono=function(){var e=this;this.agenciasProvider.getTelefonos().subscribe((function(o){e.nrowhat=o.repuestos}))},e.prototype.setLocalStorage=function(e){window.localStorage.datospersonales=JSON.stringify(e)},e.prototype.getLocalStorage=function(){return JSON.parse(window.localStorage.datospersonales||"[]")},e.prototype.dismissModal=function(){this.modalCtrl.dismiss({dismissed:!0})},e.prototype.logForm=function(){var e=this;this.loading.present(),this.setLocalStorage(this.todo.value),this.prodsProvider.sendServiceContact(this.todo.value).subscribe((function(o){setTimeout((function(){e.loading.dismiss(),e.iab.create(e.urlWhatsapp(e.todo.value),"_system",e.options),e.navCtrl.pop(),e.navCtrl.navigateForward(["categorias"])}),1e3)}),(function(o){e.loading.dismiss(),e.presentAlert()}))},e.prototype.presentAlert=function(){this.loading=this.alertController.create({cssClass:"",header:"Error",subHeader:"El mensaje no se pudo enviar.",message:"Verifique su conexi\xf3n e intente nuevamente m\xe1s tarde..",buttons:["OK"]}),this.loading.present()},e.prototype.presentLoading=function(){return Object(s.a)(this,void 0,void 0,(function(){var e,o;return Object(s.c)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,this.loadingCtrl.create({cssClass:"my-custom-class",message:"Por favor Espere..."})];case 1:return e.loading=t.sent(),[3,3];case 2:return o=t.sent(),console.error("Ocurri\xf3 un error:",o),[3,3];case 3:return[2]}}))}))},e.prototype.urlWhatsapp=function(e){var o=" Hola";return e.nombre&&(o+=", mi nombre es "+e.nombre),e.localidad&&(o+=", soy de "+e.localidad),o+=" necesito un turno para mantenimiento.",e.vehiculo&&(o+=" \n Vehiculo: "+e.vehiculo),e.agencia&&(o+=" \n Agencia: "+e.agencia),""!=e.chasis&&(o+=" \n Nro. Chasis: "+e.chasis),""!=e.tipo_mantenimiento&&(o+=" \n Tipo de Mantenimiento: "+e.tipo_mantenimiento),""!=e.fecha_asistencia&&(o+=" \n Fecha estimada: "+e.fecha_asistencia),e.email&&(o+=" \n Mi email es: "+e.email),""!=e.mensaje&&(o+="\n Comentarios: "+e.mensaje),"https://wa.me/"+this.nrowhat+"?text="+encodeURI(o)},e.\u0275fac=function(o){return new(o||e)(r.Ib(i.Q),r.Ib(c.a),r.Ib(l.a),r.Ib(i.O),r.Ib(i.a),r.Ib(i.P),r.Ib(b.a),r.Ib(m.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-matenimiento-page"]],decls:62,vars:3,consts:[["slot","start"],["text",""],[1,"ion-padding"],["src","../../assets/imgs/bg_mantenimiento.png","alt","",1,"img-header"],[3,"formGroup","ngSubmit"],["stacked",""],["type","text","formControlName","nombre"],["type","text","formControlName","telefono"],["type","text","formControlName","localidad"],["type","email","formControlName","email"],["placeholder","Selecione una","formControlName","agencia"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","vehiculo"],["type","text","formControlName","chasis"],["displayFormat","MM/DD/YYYY HH","formControlName","fecha_asistencia"],["type","text","formControlName","tipo_mantenimiento"],["type","text","formControlName","mensaje"],["expand","block","fill","solid","size","large",3,"disabled","click"],[3,"value"]],template:function(e,o){1&e&&(r.Nb(0,"ion-header"),r.Nb(1,"ion-toolbar"),r.Nb(2,"ion-buttons",0),r.Jb(3,"ion-back-button",1),r.Mb(),r.Nb(4,"ion-title"),r.oc(5," Mantenimiento "),r.Mb(),r.Mb(),r.Mb(),r.Nb(6,"ion-content",2),r.Jb(7,"img",3),r.Nb(8,"h1"),r.oc(9,"Solicitar Mantenimiento"),r.Mb(),r.Nb(10,"p"),r.oc(11,"Podras solicitar un turno para el mantenimineto de tu unidad."),r.Mb(),r.Nb(12,"form",4),r.Vb("ngSubmit",(function(){return o.logForm()})),r.Nb(13,"ion-item"),r.Nb(14,"ion-label",5),r.oc(15,"Nombre y Apellido"),r.Mb(),r.Jb(16,"ion-input",6),r.Mb(),r.Nb(17,"ion-item"),r.Nb(18,"ion-label",5),r.oc(19,"Tel\xe9fono"),r.Mb(),r.Jb(20,"ion-input",7),r.Mb(),r.Nb(21,"ion-item"),r.Nb(22,"ion-label",5),r.oc(23,"Localidad"),r.Mb(),r.Jb(24,"ion-input",8),r.Mb(),r.Nb(25,"ion-item"),r.Nb(26,"ion-label",5),r.oc(27,"Email"),r.Mb(),r.Jb(28,"ion-input",9),r.Mb(),r.Nb(29,"ion-item"),r.Nb(30,"ion-label",5),r.oc(31,"Agencia"),r.Mb(),r.Nb(32,"ion-select",10),r.nc(33,d,2,2,"ion-select-option",11),r.Mb(),r.Mb(),r.Nb(34,"ion-item"),r.Nb(35,"ion-label",5),r.oc(36,"Vehiculo"),r.Mb(),r.Jb(37,"ion-input",12),r.Mb(),r.Nb(38,"ion-item"),r.Nb(39,"ion-label",5),r.oc(40,"Nro de chasis"),r.Mb(),r.Jb(41,"ion-input",13),r.Mb(),r.Nb(42,"ion-item"),r.Nb(43,"ion-label",5),r.oc(44,"Fecha estimada"),r.Mb(),r.Jb(45,"ion-datetime",14),r.Mb(),r.Nb(46,"ion-item"),r.Nb(47,"ion-label",5),r.oc(48,"Tipo de mantenimiento"),r.Mb(),r.Jb(49,"ion-input",15),r.Mb(),r.Nb(50,"ion-item"),r.Nb(51,"ion-label",5),r.oc(52,"Mensaje"),r.Mb(),r.Jb(53,"ion-textarea",16),r.Mb(),r.Jb(54,"br"),r.Nb(55,"ion-button",17),r.Vb("click",(function(){return o.logForm()})),r.oc(56,"Solicitar"),r.Mb(),r.Jb(57,"br"),r.Jb(58,"br"),r.Jb(59,"br"),r.Jb(60,"br"),r.Jb(61,"br"),r.Mb(),r.Mb()),2&e&&(r.xb(12),r.cc("formGroup",o.todo),r.xb(21),r.cc("ngForOf",o.agencias),r.xb(22),r.cc("disabled",!o.todo.valid))},directives:[i.p,i.L,i.f,i.c,i.d,i.K,i.k,c.m,c.h,c.c,i.u,i.v,i.t,i.U,c.g,c.b,i.D,i.T,n.i,i.l,i.J,i.e,i.E],styles:[""]}),e}()}],u=function(){function e(){}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(o){return new(o||e)},imports:[[a.i.forChild(p)],a.i]}),e}(),h=function(){function e(){}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(o){return new(o||e)},imports:[[n.b,i.M,u,c.d,c.k]]}),e}()}}]);