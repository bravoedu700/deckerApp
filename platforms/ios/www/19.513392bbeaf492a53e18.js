(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{jD90:function(t,n,e){"use strict";e.r(n),e.d(n,"ListPageModule",(function(){return w}));var i=e("j1ZV"),o=e("ofXK"),c=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),l=e("+wGX"),b=e("fXoL"),d=e("N2bL"),g=e("N1fR"),u=e("KrPH"),m=e("1AwP");function f(t,n){if(1&t){var e=b.Ob();b.Nb(0,"ion-button",9),b.Vb("click",(function(){return b.ic(e),b.Xb().presentModal()})),b.Jb(1,"ion-icon",10),b.Mb()}}function p(t,n){1&t&&(b.Nb(0,"ion-card"),b.Nb(1,"ion-item"),b.Jb(2,"skeleton-item",12),b.Mb(),b.Nb(3,"ion-card-content"),b.Jb(4,"skeleton-item",13),b.Jb(5,"skeleton-item",14),b.Jb(6,"skeleton-item",15),b.Mb(),b.Mb())}var h=function(){return[0,1,2,3,4,5,6,7,8]};function v(t,n){1&t&&(b.Nb(0,"div"),b.nc(1,p,7,0,"ion-card",11),b.Mb()),2&t&&(b.xb(1),b.cc("ngForOf",b.fc(1,h)))}function M(t,n){if(1&t&&b.Jb(0,"img",25),2&t){var e=b.Xb().$implicit;b.zb("rounded-image img",e.vehicle_view,""),b.dc("src",e.vehicle_thumbnail_url,b.kc)}}function _(t,n){if(1&t&&b.Jb(0,"img",26),2&t){var e=b.Xb().$implicit;b.zb("rounded-image imgitem",e.vehicle_view,"")}}function I(t,n){if(1&t&&(b.Nb(0,"ion-card-header",27),b.oc(1),b.Mb()),2&t){var e=b.Xb().$implicit;b.xb(1),b.sc(" ",e.seller_status," ",e.seller_pricetype," ",e.seller_price," ")}}function O(t,n){if(1&t){var e=b.Ob();b.Nb(0,"ion-card",16),b.Vb("click",(function(){b.ic(e);var t=n.$implicit;return b.Xb().itemSelected(t)})),b.Nb(1,"ion-card-content",17),b.Nb(2,"ion-grid"),b.Nb(3,"ion-row"),b.Nb(4,"ion-col",18),b.nc(5,M,1,4,"img",19),b.nc(6,_,1,3,"img",20),b.Mb(),b.Nb(7,"ion-col",21),b.Nb(8,"div",22),b.Nb(9,"strong"),b.oc(10),b.Yb(11,"uppercase"),b.Yb(12,"uppercase"),b.Mb(),b.Mb(),b.Nb(13,"div",23),b.oc(14),b.Jb(15,"br"),b.oc(16),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.nc(17,I,2,3,"ion-card-header",24),b.Mb(),b.Mb()}if(2&t){var i=n.$implicit,o=b.Xb();b.xb(2),b.zb("item-card item",i.vehicle_view,""),b.xb(3),b.cc("ngIf",i.vehicle_thumbnail_url),b.xb(1),b.cc("ngIf",!i.vehicle_thumbnail_url),b.xb(4),b.rc(" ",b.Zb(11,10,i.brand_name)," ",b.Zb(12,12,i.vehicle_model)," "),b.xb(4),b.qc(" A\xf1o: ",i.vehicle_year," "),b.xb(2),b.qc(" Agencia: ",i.company_name," "),b.xb(1),b.cc("ngIf",o.autenticado.isAuthenticated()&&i.seller_price)}}function P(t,n){1&t&&b.Jb(0,"ion-infinite-scroll-content",28)}function x(t,n){1&t&&(b.Nb(0,"p",29),b.oc(1,"No hay mas items para mostrar"),b.Mb())}var C=function(){function t(t,n,e,i,o,c,r){var s=this;this.navCtrl=t,this.router=n,this.activatedRoute=e,this.prodsProvider=i,this.authService=o,this.modalController=c,this.filterProvider=r,this.doneLoad=!1,this.defaultOffset=20,this.offset=this.defaultOffset,this.autenticado=null,this.noMoreItems=!1,this.catId=void 0,this.selectedFilter=null,this.autenticado=o,this.catId=this.activatedRoute.snapshot.params.id,this.activatedRoute.queryParams.subscribe((function(t){s.category=s.router.getCurrentNavigation().extras,s.initialize()}))}return t.prototype.itemSelected=function(t){this.navCtrl.navigateForward(["item/"+t.vehicle_id])},t.prototype.initialize=function(){var t=this;this.filterProvider.clearFilter(),this.prodsProvider.getCategoriesById(this.catId).subscribe((function(n){return t.category=n}),(function(t){return console.log(t)})),this.prodsProvider.getItemsByCategory(this.catId).subscribe((function(n){t.items=n,t.items_all=t.items,t.doneLoad=!0,t.hasFilter=!1}),(function(t){console.log(t)}))},t.prototype.presentModal=function(){return Object(a.a)(this,void 0,void 0,(function(){var t,n,e=this;return Object(a.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.modalController.create({component:l.a,cssClass:"my-custom-class",componentProps:{selectedFilter:this.selectedFilter,category:this.category}})];case 1:return(t=i.sent()).onDidDismiss().then((function(t){t&&(e.selectedFilter=t.data,console.log("scrooll to top"),e.offset=e.defaultOffset,e.filterProvider.getResultsFiltered(e.selectedFilter).subscribe((function(t){e.items=t,e.items_all=e.items,e.doneLoad=!0}),(function(t){return console.log(t)})))})),[4,t.present()];case 2:return[2,i.sent()];case 3:return n=i.sent(),console.error("Ocurri\xf3 un error:",n),[3,4];case 4:return[2]}}))}))},t.prototype.openFilterModal=function(){},t.prototype.doInfinite=function(t){var n=this;this.noMoreItems=!1,0==this.filterProvider.isInUse()?this.prodsProvider.getItemsByCategory(this.catId,this.offset).subscribe((function(e){n.offset=n.offset+n.defaultOffset,e.length>0?e.forEach((function(t){n.items.push(t)})):n.noMoreItems=!0,t.target.complete()}),(function(n){t.target.complete()})):(console.log("fin resultados"),this.noMoreItems=!0,t.target.complete())},t.\u0275fac=function(n){return new(n||t)(b.Ib(r.Q),b.Ib(s.g),b.Ib(s.a),b.Ib(d.a),b.Ib(g.a),b.Ib(r.P),b.Ib(u.a))},t.\u0275cmp=b.Cb({type:t,selectors:[["page-list"]],viewQuery:function(t,n){var e;1&t&&b.tc(r.r,!0),2&t&&b.hc(e=b.Wb())&&(n.infiniteScroll=e.first)},decls:14,vars:6,consts:[["slot","start"],["text",""],["slot","end"],["color","secondary",3,"click",4,"ngIf"],[4,"ngIf"],["class","list-item ion-no-margin ion-no-padding",3,"click",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Cargando mas items...",4,"ngIf"],["class","no-more-items",4,"ngIf"],["color","secondary",3,"click"],["name","options"],[4,"ngFor","ngForOf"],["height","120px"],["height","24px","width","80%",2,"margin-bottom","12px"],["height","12px"],["height","12px","width","67%"],[1,"list-item","ion-no-margin","ion-no-padding",3,"click"],[1,"ion-no-margin"],["size","5",1,"item-thumbnail"],[3,"class","src",4,"ngIf"],["src","assets/imgs/no-image.jpg",3,"class",4,"ngIf"],["size","7",1,"card-right-content"],[1,"item-card-title"],[1,"item-small-description"],["class","precio-venta",4,"ngIf"],[3,"src"],["src","assets/imgs/no-image.jpg"],[1,"precio-venta"],["loadingSpinner","bubbles","loadingText","Cargando mas items..."],[1,"no-more-items"]],template:function(t,n){1&t&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar"),b.Nb(2,"ion-buttons",0),b.Jb(3,"ion-back-button",1),b.Mb(),b.Nb(4,"ion-title"),b.oc(5),b.Mb(),b.Nb(6,"ion-buttons",2),b.nc(7,f,2,0,"ion-button",3),b.Mb(),b.Mb(),b.Mb(),b.Nb(8,"ion-content"),b.nc(9,v,2,2,"div",4),b.nc(10,O,18,14,"ion-card",5),b.Nb(11,"ion-infinite-scroll",6),b.Vb("ionInfinite",(function(t){return n.doInfinite(t)})),b.nc(12,P,1,0,"ion-infinite-scroll-content",7),b.Mb(),b.nc(13,x,2,0,"p",8),b.Mb()),2&t&&(b.xb(5),b.pc(n.category.type_name),b.xb(2),b.cc("ngIf",(null==n.items?null:n.items.length)>0||n.selectedFilter),b.xb(2),b.cc("ngIf",!n.doneLoad),b.xb(1),b.cc("ngForOf",n.items),b.xb(2),b.cc("ngIf",!n.noMoreItems),b.xb(1),b.cc("ngIf",n.noMoreItems))},directives:[r.p,r.L,r.f,r.c,r.d,r.K,o.j,r.k,o.i,r.r,r.e,r.q,r.g,r.u,m.a,r.h,r.o,r.C,r.j,r.i,r.s],pipes:[o.n],styles:[".item-card-title[_ngcontent-%COMP%]{font-size:16px}.item-small-description[_ngcontent-%COMP%]{color:grey}.item-card[_ngcontent-%COMP%]{padding:0}.item-thumbnail[_ngcontent-%COMP%]{padding-left:0}.bottom-data[_ngcontent-%COMP%]{position:absolute;bottom:-5px}.rounded-image[_ngcontent-%COMP%]{border-radius:5px}.bottom-data-big[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding:0 5px 0 0}.bottom-data-big[_ngcontent-%COMP%], .bottom-data-right[_ngcontent-%COMP%]{right:0}.bottom-data-left[_ngcontent-%COMP%], .bottom-data-left.activated[_ngcontent-%COMP%]{background:none;box-shadow:none}.card-content[_ngcontent-%COMP%]{padding:10px}.card-right-content[_ngcontent-%COMP%], .item-thumbnail[_ngcontent-%COMP%]{padding-top:0;background:none}.scroll-content[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-bottom:1px solid #b3b3b3;background:none;box-shadow:none;margin:0;width:100%;transition:background-color .3s}.scroll-content[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:active{background-color:#c4c4c4}.scroll-content[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:10px}.itemOFFLINE[_ngcontent-%COMP%]{color:#ccc!important}.imgOFFLINE[_ngcontent-%COMP%]{filter:grayscale(1)}.no-more-items[_ngcontent-%COMP%]{color:#aaa;font-size:14px;font-style:italic;text-align:center}.precio-venta[_ngcontent-%COMP%]{background-color:var(--ion-color-step-200);color:var(--ion-text-color);padding:5px;margin:0;text-align:right}"]}),t}(),y=[{path:"",component:C},{path:":id",component:C}],N=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(n){return new(n||t)},imports:[[s.i.forChild(y)],s.i]}),t}(),w=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(n){return new(n||t)},imports:[[o.b,c.d,r.M,N,i.a]]}),t}()}}]);